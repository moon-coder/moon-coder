(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{100:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var a=n(57),o=n.n(a),r=n(58),c=[function(){var t=Object(r.a)(o.a.mark(function t(e,n){var a,r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.methodName,r=e.target,"query"!==a||!r.commonChange){t.next=12;break}return console.log("beginMiddware"),r.commonChange(["main","isLoading"],!0),t.next=6,n();case 6:return c=t.sent,r.commonChange(["main","isLoading"],!1),console.log("end Middware"),t.abrupt("return",c);case 12:return t.abrupt("return",n());case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()],i=function(t){var e=t.length;return function(){var t=Object(r.a)(o.a.mark(function t(e,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(0,e,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}();function n(t,e,n){return a.apply(this,arguments)}function a(){return(a=Object(r.a)(o.a.mark(function a(c,i,u){var s,p;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=c+1,p=n.bind(null,s,i,u),s===e&&(p=function(){var t=Object(r.a)(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()),a.abrupt("return",t[c](i,p));case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}};function u(t){var e={},n=i(c);return function(a){var c=t(a),i=new Proxy(c,{get:function(t,a,u){var s=String(a);return e[s]||"function"!==typeof c[a]||(e[s]=Object(r.a)(o.a.mark(function t(){var e,r,u,p,l,f=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=f.length,r=new Array(e),u=0;u<e;u++)r[u]=f[u];return p=r,console.log("\u5f00\u59cb\u8c03\u7528\u4ee3\u7406\u65b9\u6cd5,",p),t.next=5,n({methodName:s,arguments:p,target:i},function(t){return c[a].apply(i,p)});case 5:return l=t.sent,t.abrupt("return",l);case 7:case"end":return t.stop()}},t)}))),e[s]?e[s]:Reflect.get(t,a,u)},set:function(t,e,n,a){return Reflect.set(t,e,n,a)},apply:function(t,e,n){return Reflect.apply.apply(Reflect,arguments)}});return i}}},101:function(t,e,n){"use strict";function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0],o=e.length>=2?e[1]:null,r=null;"function"===typeof e[e.length-1]&&(r=e[e.length-1]);var c,i=[],u=[];return"string"===typeof a&&o&&o.props&&o.props["data-paths"]?(i=o.props["data-paths"].split(/[,\.]/gi),c=a):a instanceof Array&&a[0].hasOwnProperty("paths")&&a[0].hasOwnProperty("value")?u=a.map(function(t){var e=t.paths,n=t.value,a=e;return"string"===typeof a&&(a=e.split(/[,\.]/gi)),{paths:a,value:n}}):"string"===typeof a?(i=a.split(/[,\.]/gi),c=o):a.hasOwnProperty("target")&&a.target["data-paths"]&&void 0!=a.target.value?(i=a.target["data-paths"].split(/[,\.]/gi),c=a.target.value):a.hasOwnProperty("target")&&a.target.dataset&&a.target.dataset.paths?(i=a.target.dataset.paths.split(/[,\.]/gi),c=a.target.value):a instanceof Array&&o instanceof Array&&o[0]&&"function"===typeof o[0].type&&o[0].props&&o[0].props["data-paths"]?(i=o[0].props["data-paths"].split(/[,\.]/gi),c=a):a instanceof Array?(i=a,c=o):o&&o.hasOwnProperty("props")&&o.props.hasOwnProperty("data-paths")&&o.props.hasOwnProperty("value")&&(i=o.props["data-paths"].split(/[,\.]/gi),c=o.props.value),console.log(i,c,u),r?r({paths:i,value:c,batchUpdate:u,raw:e}):{paths:i,value:c,batchUpdate:u}}n.d(e,"a",function(){return a})},104:function(t,e,n){"use strict";n(56),n(128),n(105)},110:function(t,e,n){t.exports=n(2)(29)},128:function(t,e,n){},452:function(t,e,n){var a=n(453);"string"===typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},453:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"",""])},454:function(t,e,n){var a=n(455);"string"===typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},455:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"",""])},456:function(t,e,n){var a=n(457);"string"===typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(29)(a,o);a.locals&&(t.exports=a.locals)},457:function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"",""])},459:function(t,e,n){"use strict";n.r(e);var a=n(45),o=n(46),r=n(48),c=n(47),i=n(49),u=n(0),s=n(17),p=(n(452),n(57)),l=n.n(p),f=n(58),h=n(10),m=n(100),d=(n(19),n(101)),v=function(t){return{commonChange:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t({type:h.a.commonChange,payload:d.a.apply(void 0,arguments)})}}};var y=function(t){return{actions:{action:Object(m.a)(v)(t),init:function(){var e=Object(f.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:h.a.init,payload:{}});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),clean:function(){var e=Object(f.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:h.a.clean});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}}};function b(t){return{main:t.featureDefineMain}}var O,g=n(18),j=n(3),k=(n(62),n(68)),C=(n(454),n(164),n(123)),_=(n(104),n(124)),E=(n(148),n(165)),I=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"comp-method"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),M=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._change=function(t){n.setState(Object(g.a)({},t.target.dataset.key,t.target.value),n._notify)},n._notify=function(){var t=n.state.values.split(",").map(function(t){var e=t.trim().split(":");return{name:e[0],value:e[1]||e[0]}});n.props.onChange({interact:"checkbox",datas:t})},n.state={values:""},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null,u.createElement(k.a,{"data-key":"values",onChange:this._change,placeholder:"format: key:value,key2:value or key1,key2"}))}}]),e}(u.Component),x=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"actor"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),w=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"api-method-type"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),D=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"action"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),P=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"actorData"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),S=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"input"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),T=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._change=function(t){n.setState(Object(g.a)({},t.target.dataset.key,t.target.value),n._notify)},n._notify=function(){var t=n.state.values.split(",").map(function(t){var e=t.trim().split(":");return{name:e[0],value:e[1]||e[0]}});n.props.onChange({interact:"radio",datas:t})},n.state={values:""},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null,u.createElement(k.a,{"data-key":"values",onChange:this._change,placeholder:"format: key:value,key2:value or key1,key2"}))}}]),e}(u.Component),A=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"comp"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),N=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"boolean"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),V=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"actorEvent"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),B=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"api-method"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),J=(O={boolean:N,array:function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._onChange=function(t){n.setState({childrenInteract:t},n._notify)},n._handleMenuClick=function(t){n.setState({visible:!1,propsType:t.key})},n._handleVisibleChange=function(t){n.setState({visible:t})},n._notify=function(){n.props.onChange&&n.props.onChange({interact:"array",childrenInteract:n.state.childrenInteract})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=u.createElement(_.a,{onClick:this._handleMenuClick},$().map(function(t){return u.createElement(_.a.Item,{key:t},t)})),e=R(this.state.propsType);return u.createElement("div",null,u.createElement("div",null,"\u5f53\u524d\u5b50\u5c5e\u6027\u4e3a:",JSON.stringify(this.state.childrenInteract,null,2)),"\u9009\u62e9\u5b50\u9879\u7c7b\u578b:",u.createElement(C.a,{overlay:t,onVisibleChange:this._handleVisibleChange,visible:this.state.visible},u.createElement("a",{className:"ant-dropdown-link",href:"javascript:void(0)"},"\u9009\u62e9\u6dfb\u52a0\u5c5e\u6027\u7c7b\u578b")),u.createElement(e,{onChange:this._onChange}))}}]),e}(u.Component),checkbox:M,object:function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange&&n.props.onChange({interact:"object",childrenInteract:n.state.childrenInteract})},n.state={childrenInteract:{}},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return u.createElement("div",null,u.createElement("div",null,"\u5f53\u524d\u5b50\u5c5e\u6027\u4e3a:",JSON.stringify(this.state.childrenInteract,null,2)),"\u9009\u62e9\u5b50\u9879\u7c7b\u578b:",u.createElement(L,{onOk:function(e){t.setState({childrenInteract:Object(j.a)({},t.state.childrenInteract,Object(g.a)({},e.code,e))},t._notify)}}))}}]),e}(u.Component),action:D,actionMethod:function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._notify=function(){n.props.onChange({interact:"actionMethod"})},n.state={},n._notify(),n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",null)}}]),e}(u.Component),input:S,actorData:P,actor:x,actorEvent:V,compMethod:I,comp:A},Object(g.a)(O,"boolean",N),Object(g.a)(O,"radio",T),Object(g.a)(O,"apiMethod",B),Object(g.a)(O,"apiMethodType",w),O);function R(t){return J[t]||"div"}var H=["checkbox","boolean","radio","object","array","input","action","actionMethod","actor","actorEvent","actorData","comp","compMethod","apiMethod","apiMethodType"];function $(){return H}var U=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._change=function(t){n.setState({param:Object(j.a)({},n.state.param,Object(g.a)({},t.target.dataset.key,t.target.value))})},n._onChange=function(t){n.setState({param:Object(j.a)({},n.state.param,t)})},n._onOk=function(){n.props.onOk(n.state.param)},n._hideModal=function(t){n.setState({type:""})},n.state={param:{},type:t.type},n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentWillReceiveProps",value:function(t){t.type!==this.state.type&&this.setState({type:t.type})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=R(this.props.type);return u.createElement(E.a,{title:"Modal",visible:!!this.props.type,onOk:this._onOk,onCancel:this._hideModal,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},u.createElement(k.a,{"data-key":"name",value:this.state.param.name,onChange:this._change,placeholder:"\u53d8\u91cf\u540d\u79f0"}),u.createElement(k.a,{"data-key":"code",value:this.state.param.code,onChange:this._change,placeholder:"\u53d8\u91cf\u7f16\u7801"}),u.createElement(t,{onChange:this._onChange}))}}]),e}(u.Component);U.defaultProps={};var F,L=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t)))._handleMenuClick=function(t){n.setState({visible:!1,propsType:t.key})},n._handleVisibleChange=function(t){n.setState({visible:t})},n.state={},n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=u.createElement(_.a,{onClick:this._handleMenuClick},$().map(function(t){return u.createElement(_.a.Item,{key:t},t)}));return u.createElement(u.Fragment,null,u.createElement(C.a,{overlay:e,onVisibleChange:this._handleVisibleChange,visible:this.state.visible},u.createElement("a",{className:"ant-dropdown-link",href:"javascript:void(0)"},"\u9009\u62e9\u6dfb\u52a0\u5c5e\u6027\u7c7b\u578b")),u.createElement("div",null,u.createElement(U,{type:this.state.propsType,onOk:function(e){t.setState({propsType:""}),t.props.onOk(e)}})))}}]),e}(u.Component);L.defaultProps={};var W,q,z=Object(s.connect)(b,y)(F=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t))).state={visible:!1,propsType:"",schemaProps:{}},n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props,e=t.actions.action,n=t.main;return u.createElement("div",{className:"define"},u.createElement(k.a,{addonBefore:"code:",value:n.schemaInfo.code,"data-paths":"main.schemaInfo.code",onChange:e.commonChange}),u.createElement(k.a,{addonBefore:"name:",value:n.schemaInfo.name,"data-paths":"main.schemaInfo.name",onChange:e.commonChange}),u.createElement(k.a,{addonBefore:"\u8be6\u7ec6\u8be6\u8ff0:",value:n.schemaInfo.descHref,"data-paths":"main.schemaInfo.descHref",onChange:e.commonChange}),u.createElement(k.a,{addonBefore:"\u7b80\u56fe:",value:n.schemaInfo.pic,"data-paths":"main.schemaInfo.pic",onChange:e.commonChange}),u.createElement(k.a,{addonBefore:"target:",placeholder:"eg: /h5-redux/  (\u6b63\u5219: ${targetType}-${\u9879\u76ee\u540d})",value:n.schemaInfo.target,"data-paths":"main.schemaInfo.target",onChange:e.commonChange}),u.createElement(L,{onOk:function(t){e.commonChange("main.schemaProps",Object(j.a)({},n.schemaProps,Object(g.a)({},t.code,t)))}}))}}]),e}(u.Component))||F,G=(n(456),Object(s.connect)(b,y)(W=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(r.a)(this,Object(c.a)(e).call(this,t))).getContent=function(){var t,e=n.props.main;return"\nimport * as Type from '@/pages/moon/page/typings';\nimport {IProps} from '@/pages/moon/page/types';\nimport {InteractConfig} from '@/pages/moon/page/components/features/feature-util';\n\n// \u7279\u6027\u76f8\u5173\u4fe1\u606f;\nexport const FeatureInfo = {\n  code: '".concat(e.schemaInfo.code,"',\n  name: '").concat(e.schemaInfo.name,"',\n  //\u4ecb\u7ecd\u7ad9\u70b9\n  descHref:\"").concat(e.schemaInfo.pic,'",\n  //\u793a\u4f8b\u56fe\u7247;\n  pic:"').concat(e.schemaInfo.descHref,'",\n  target:').concat(e.schemaInfo.target,"\n};\n\n//\u7279\u6027\u9700\u8981\u7528\u6237\u8f93\u5165\u6570\u636e;\nexport const InterActData: {\n  [key: string]: InteractConfig;\n} = ").concat((t=e.schemaProps,JSON.stringify(t,null,2)),';\n\n//\u8fd9\u91cc\u6b63\u5728\u505a... \ninterface IData {\n  [name:string]:any\n}\n\n/**\n *\n * */\nexport async function apply(context: IProps & {data: IData}) {\n  let {actions: {action}, main} = context;\n  let {targetCompMethod} = context.data;\n  \n  // action.commonChange(`main.pageInfo.subComps.${targetCompMethod.compIndex}.methods.${targetCompMethod.methodIndex}.content`\n  //   ,main.pageInfo.subComps[targetCompMethod.compIndex].methods[targetCompMethod.methodIndex].content+getContent(context.data.features));\n  \n  // await action.componentMethodAdd(targetCompMethod.compIndex,{\n  //   name: "",\n  //   comment:"",\n  //   content:"",\n  //   param: ""\n  // });\n  //\n  // await action.actionMethodAdd(0,{\n  //   name:"",\n  //   comment:"",\n  //   content:"",\n  //   param:"",\n  // });\n\n}')},n}return Object(i.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props;t.actions.action,t.main;return u.createElement("div",{className:"result"},u.createElement(k.a.TextArea,{disabled:!0,value:this.getContent(),autosize:!0}))}}]),e}(u.Component))||W);n.d(e,"default",function(){return K});var K=Object(s.connect)(b,y)(q=function(t){function e(){return Object(a.a)(this,e),Object(r.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.props.actions.init()}},{key:"componentWillUnmount",value:function(){this.props.actions.clean()}},{key:"render",value:function(){var t=this.props;t.actions.action,t.main;return u.createElement("div",{className:"featureDefine"},u.createElement(z,null),u.createElement(G,null))}}]),e}(u.Component))||q},84:function(t,e,n){t.exports=n(2)(14)},91:function(t,e,n){t.exports=n(2)(44)}}]);
//# sourceMappingURL=8.e604cf13.chunk.js.map